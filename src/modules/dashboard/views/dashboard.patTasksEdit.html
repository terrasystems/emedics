<div class="container edit_form">
	<div class="pad"></div>

	<form ng-submit="vm.onSubmit()" name="vm.form" novalidate >

		<!--<pre>Model: {{vm.selectedSection}}</pre>-->
		<div>
			<p>Caregory: {{vm.formInfo.category}}</p>
			<p>Name: {{vm.formInfo.name}}</p>
			<p>#: {{vm.formInfo.number}}</p>
			<p>Descr: {{vm.formInfo.descr}}</p>
		</div>

		<div class="form-group">
			<label>Select section</label>
			<select class="form-control"  ng-model="vm.selectedSection" ng-options="o for o in vm.sectionsName" ></select>
		</div>

		<formly-form model="vm.model[vm.selectedKey][vm.selectedSection]" fields="vm.sections[vm.selectedKey][vm.selectedSection]" options=vm.options[vm.selectedKey][vm.selectedSection] form="vm.form" track-by="$index">
		</formly-form>

						<!--<pre>Model: {{vm.model | json}}</pre>-->
						<!--<pre>Fields: {{vm.sections[key][value] | json}}</pre>-->

		<!--<uib-tabset>-->
			<!--<uib-tab ng-repeat="(key, value) in vm.sectionsName track by $index" heading="{{value}}" active="tab.active" disable="tab.disabled">-->
				<!--<div class="tab-content">-->
					<!--<div class="tab-pane active" id="#{{key}}">-->

						<!--&lt;!&ndash;<pre>Model: {{vm.model | json}}</pre>&ndash;&gt;-->
						<!--&lt;!&ndash;<pre>Fields: {{vm.sections[key][value] | json}}</pre>&ndash;&gt;-->

						<!--<formly-form model="vm.model[key][value]" fields="vm.sections[key][value]" options=vm.options[key][value] form="vm.form" track-by="$index">-->
						<!--</formly-form>-->

					<!--</div>-->
				<!--</div>-->
			<!--</uib-tab>-->
		<!--</uib-tabset>-->
		<button type="submit" class="btn btn-primary submit-button" ng-disabled="vm.form.$invalid">Submit</button>
	</form>


	<div class="pad"></div>


</div>
<script type="text/ng-template" id="error-messages.html">
	<formly-transclude></formly-transclude>
	<div ng-messages="fc.$error" ng-if="form.$submitted || options.formControl.$touched" class="error-messages">
		<div ng-message="{{ ::name }}" ng-repeat="(name, message) in ::options.validation.messages"
			 class="message">{{ message(fc.$viewValue, fc.$modelValue, this)}}
		</div>
	</div>
</script>
